<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src=" http://libs.baidu.com/jquery/1.9.1/jquery.js">
    </script>
    <script>
        $(document).ready(function(){
            $("p").click(function(){
                $(this).hide();
            });
        });
    </script>
</head>
<body>
<span>杀手</span><span id="killer">4</span><span>人</span>
<span>水民</span><span id="people">8</span><span>人</span>



<form name="myform">
    <input type="text" name="name" id="nn" />
    <input type="button" name="button" value="获取" onclick="print()" />
</form>
</body>
<script language="javascript">
    var b = JSON.parse(sessionStorage.getItem("b"));
    console.log(b);
    function print(){
        var a=document.getElementById("nn").value;
//        v = parseInt(a) ;
        var killer=Math.floor((a-1)/3);
        var people=a-killer;
        var c = /^([4-9]|1[0-8])$/;
        var re = new RegExp(c);
        if(re.test(a)){
            alert("你真的棒" +a );
            document.getElementById("killer").innerHTML=killer;
            document.getElementById("people").innerHTML=people;
        }
        else{

            alert('请输入正确的玩家数量！');
            document.getElementById("killer").innerHTML="";
            document.getElementById("people").innerHTML="";
        }

        var arr = [];
        for(var i = 0 ; i<killer ; i++ ){
            arr[i] = 0;
        }
        for(var j = killer; j<a ; j++){
            arr[j] = 1;
        }
        console.log(arr);
        var b = [];
        while(arr.length){
            console.log(arr.length);
            var index = ~~(Math.random()*arr.length);
            b.push(arr[index]);
            arr.splice(index,1);
        }
        return b ;

    }


// sessionStorage.setItem("b",JSON.stringify(b));
//








    //        if(parseInt(a)  /^[4-9]$/){
    //            alert("你脑子有包")
    //        }
    //        else{
    //            alert("你真的棒")
    //        }


</script>
</html>